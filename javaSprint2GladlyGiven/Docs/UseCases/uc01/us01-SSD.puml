@startuml
skinparam monochrome true
skinparam shadowing false

title Refugee Registration Sequence

actor Refugee
participant "RefugeeRegistrationUI" as UI
participant "RefugeeRegistrationController" as Controller
participant "System" as System

activate Refugee
Refugee -> UI: Initiate registration process
activate UI
UI -> Controller: Provide personal information
activate Controller
Controller -> System: Validate provided data
System --> Controller: Validation result
alt Data is valid
    Controller -> UI: Display confirmation prompt
else Data is invalid
    Controller -> UI: Display error message
    UI -> Refugee: Correct data
    activate Refugee
    Refugee -> UI: Provide corrected data
    deactivate Refugee
    deactivate UI
    loop until valid data provided
        UI -> Controller: Provide corrected data
        activate Controller
        Controller -> System: Validate corrected data
        System --> Controller: Validation result
    end
end
UI -> Refugee: Confirm registration
Controller -> System: Register refugee
System --> Controller: Registration result
Controller -> UI: Display registration result
UI --> Refugee: Display registration result
deactivate UI
deactivate Refugee
@enduml
